<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>cluster documentation</title>
                <meta name="robots" content="noindex" />
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="The most useful reources of our cluster">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="favicon.svg">
                        <link rel="shortcut icon" href="favicon.png">
                <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
                <link rel="stylesheet" href="css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
                <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="intro.html">Introduction</a></li><li class="chapter-item expanded "><a href="login.html"><strong aria-hidden="true">1.</strong> Logging in and working in the cluster</a></li><li class="chapter-item expanded "><a href="softwares.html"><strong aria-hidden="true">2.</strong> Softwares available</a></li><li class="chapter-item expanded "><a href="syncing.html"><strong aria-hidden="true">3.</strong> Transfering files</a></li><li class="chapter-item expanded "><a href="debugging.html"><strong aria-hidden="true">4.</strong> Debugging errors and failed jobs</a></li><li class="chapter-item expanded "><a href="bash.html"><strong aria-hidden="true">5.</strong> Basics of unix terminal</a></li><li class="chapter-item expanded "><a href="resources.html"><strong aria-hidden="true">6.</strong> Other resources</a></li><li class="chapter-item expanded "><a href="contributing.html"><strong aria-hidden="true">7.</strong> Contributing</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">cluster documentation</h1>

                    <div class="right-buttons">
                                                <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        <a href="https://github.com/geem-lab/cluster-guide" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                                                
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p><img src="https://user-images.githubusercontent.com/60739184/162484342-2aa465bf-3c5b-49be-830e-9ec58d8d87ef.gif" alt="Galilean_moons_around_Jupiter" /></p>
<h1 id="cluster-guide"><a class="header" href="#cluster-guide">Cluster guide</a></h1>
<p>Welcome to the jupiter cluster guide!</p>
<p>This is the documentation of our cluster and it's resources. </p>
<h2 id="jump-to"><a class="header" href="#jump-to">Jump to</a></h2>
<ul>
<li><a href="./login.html">Logging in and working in the cluster</a></li>
<li><a href="./syncing.html">Transfering files</a></li>
<li><a href="./debugging.html">Debugging errors and failed jobs</a></li>
<li><a href="bash.html">A first look into the linux world</a></li>
<li><a href="./softwares.html">Softwares available</a></li>
<li><a href="./resources.html">Other resources</a></li>
<li><a href="./contributing.html">Contributing</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="basic-usage"><a class="header" href="#basic-usage">Basic usage</a></h2>
<p>Ask Prof. Giovanni for a user, if one is granted you can login to the cluster using IP:150.162.31.2 and Port:2222 as follows.</p>
<pre><code class="language-console">$ ssh your_user@150.162.31.2 -p 2222
</code></pre>
<p>When logging in the cluster for the first time, please update your password to a <a href="https://edu.gcfglobal.org/en/internetsafety/creating-strong-passwords/1/">strong</a> one.</p>
<p>If you don't want to remember the port and the ip everytime you login, you can <a href="https://linuxize.com/post/using-the-ssh-config-file/">register</a> this remote location in your ~/.ssh/config file (you can change jupiter for any name of your choice).</p>
<pre><code>Host jupiter
    HostName 150.162.31.2
    User your_user
    Port 2222
</code></pre>
<p>Now you can login with:</p>
<pre><code class="language-console">$ ssh jupiter
</code></pre>
<p>You can also set a passwordless connection by <a href="https://phoenixnap.com/kb/setup-passwordless-ssh">creating a key and making it available in <strong>jupiter</strong></a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="softwares"><a class="header" href="#softwares">Softwares</a></h1>
<h2 id="orca"><a class="header" href="#orca">ORCA</a></h2>
<p>Usage: </p>
<p>In your $HOME/bin folder in <a href="">jupiter</a> there should already be a <code>job</code> script that you can use directly on yout .inp files.</p>
<p>In your .inp it should be specified both the <code>nprocs</code> and <code>maxcore</code> keywords, i.e. for a h2o_opt.inp file:</p>
<pre><code>! HF def2-svp Opt 

%pal
nprocs 8 
end

%maxcore 2000

*xyzfile h2o.xyz 0 1 
</code></pre>
<p>Any doubts on the input please check the <a href="https://sites.google.com/site/orcainputlibrary/home">orca input library</a>.</p>
<p>To submit this job, run:</p>
<pre><code class="language-console">$ job h2o.inp 1 8
</code></pre>
<p>Where the <strong>1</strong> means how many machines you're using and <strong>8</strong> means the number of procs. Or more generally:</p>
<pre><code class="language-console">$ job file.inp $nmachines $nprocs
</code></pre>
<p>Use the default values and you'll be fine (1 machine and 8 procs).</p>
<h2 id="checking-a-job-status"><a class="header" href="#checking-a-job-status">Checking a job status</a></h2>
<pre><code class="language-console">$ qstat 
</code></pre>
<p>Or if you want information only on your submitted jobs:</p>
<pre><code class="language-console">$ qstat -u $USER
</code></pre>
<p>Where <code>$USER</code> is your cluster username.</p>
<p>These command just prints the queue usage without some information that is useful for debugging some failed jobs. To receive more information (for instance on the node your job is running) run:</p>
<pre><code class="language-console">$ qstat -as
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="transfering-files"><a class="header" href="#transfering-files">Transfering files</a></h2>
<p>The most common way of transferring files between local and remote locations (and the easiest if you're just starting) is the <a href="https://linuxize.com/post/how-to-use-scp-command-to-securely-transfer-files/">scp</a> command. </p>
<p>For istance, if you want to send a <code>opt.inp</code> file located at <code>~/geem/projects</code> to a <code>/home/your_user/projects/</code> folder located in jupiter:</p>
<pre><code class="language-console">$ scp ~/geem/projects/opt.inp jupiter:/home/your_user/projects/ 
</code></pre>
<p>This comes from:</p>
<pre><code class="language-console">$ scp -P 2222 ~/geem/projects/opt.inp USERNAME@150.162.31.2:/home/your_user/projects/ 
</code></pre>
<p>Or the other way around, from jupiter to your local folder:</p>
<pre><code class="language-console">$ scp jupiter:/home/your_user/projects/opt.out ~/geem/projects/
</code></pre>
<p>There are other options (for instance, <a href="https://rclone.org/commands/rclone_sync/">rclone</a>) that can be also be used to sync files between your local machine and jupiter. </p>
<p>If you're using a windows machine, a good graphical interface that allows you to drag and drop files is <a href="https://mobaxterm.mobatek.net/">mobaxterm</a>.</p>
<p><a href="https://github.com/caprilesport">Vinicius</a> also has a <a href="https://github.com/caprilesport/scripts/blob/master/csync">script</a> that syncs and submits jobs while in your local machine, any questions talk to him. </p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="debugging-errors-and-jobs-not-running"><a class="header" href="#debugging-errors-and-jobs-not-running">Debugging errors and jobs not running</a></h1>
<p>Sometimes your jobs will fail (I know, sucks!), if you ever find yourself questioning why that happen this may help you: </p>
<p>First thing to do is to check if your job failed because of some issue related to orca, to do that open the output file in your favorite text-editor and look at the last lines. A quick alternative is to use the <code>tail</code> command, which shows you the last lines of a file. </p>
<p>If some error happened in a SCF procedure (if the issue is related to orca itself) you should see some error message at the very bottom of the output file. This error should at least clarify what went wrong in your calculation.</p>
<p>If the output file doesn't contain any error at the end of the file, then the issue might be hardware related. In this case, try to do the following:</p>
<ul>
<li>Resubmit the job and check in what node your job is being run (do that by issuing the <code>qstat -as</code> command, once it starts you can see information on what node is running your job), for example:</li>
</ul>
<pre><code>                                                            Req'd  Req'd   Elap
Job ID          Username Queue    Jobname    SessID NDS TSK Memory Time  S Time
--------------- -------- -------- ---------- ------ --- --- ------ ----- - -----
5090.ufsc       giliand* ufsc     tetrazol_*   7964   1   8   10gb 120:0 R 00:59
   Job run at Mon Apr 25 at 10:47 on (himalia:ncpus=8:mem=10485760kb)
5119.ufsc       giliand* ufsc     14_hess.i* 306745   1   8   10gb 120:0 R 32:23
   Job run at Tue Apr 26 at 22:13 on (io:ncpus=8:mem=10485760kb)
</code></pre>
<p>In this situation, the job 5090.ufsc is running on <em><strong>himalia</strong></em> and the job 5119.ufsc is running on <em><strong>io</strong></em>.</p>
<ul>
<li>Connect through ssh to that node while logged in jupiter (<code>ssh himalia</code> for example) and check for temperature issues (running <code>sensors</code>). If you see the temperature of the CPU core's reaching 100 degrees, please contact <a href="">matheus</a> or <a href="">vinicius</a>.</li>
</ul>
<h2 id="asking-for-help"><a class="header" href="#asking-for-help">Asking for help</a></h2>
<p>If you ever cant understand what the hell is going on, or if you ever identify some kind of issue in the cluster, please <a href="https://github.com/geem-lab/cluster/issues/new/choose">open an issue</a> in our <a href="https://github.com/geem-lab/cluster">cluster</a> repository, this way we can keep track of what is happening and also have an archive for the solutions, if the problems ever happen again. </p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="a-first-look-into-the-linux-world"><a class="header" href="#a-first-look-into-the-linux-world">A first look into the linux world</a></h1>
<p>You may soon realise that you're now entering a field where we're generally looking at a command line. Don't worry, you'll soon get very used to it and learn to love it. ðŸ˜„</p>
<p><a href="http://linuxcommand.org/lc3_learning_the_shell.php">There are good reasons to use a terminal</a> insted of GUI's (graphical user interfaces), but I will assume that if you're here you already have a slight idea about that. </p>
<p>For now I will only leave this quote here:</p>
<blockquote>
<p>I once heard an author say that when you are a child you use a computer by looking at the pictures. When you grow up, you learn to read and write. </p>
</blockquote>
<p>Also, here are some articles explaining the basics of using a unix terminal, if you're new to this world:</p>
<p>https://ubuntu.com/tutorials/command-line-for-beginners#4-creating-folders-and-files
https://www.digitalocean.com/community/tutorials/an-introduction-to-the-linux-terminal
https://maker.pro/linux/tutorial/basic-linux-commands-for-beginners</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="other-resources"><a class="header" href="#other-resources">Other resources</a></h1>
<p>Right now we've only got acces to jupiter and Tarsus (there will be a tutorial on using Tarsus too, dont worry), but soon we will have acces to cesup and Santos-Dumont.</p>
<ul>
<li>CESUP</li>
<li>Tarsus (Franca-SP)</li>
<li>Santos-Dumont</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contributing"><a class="header" href="#contributing">Contributing</a></h1>
<p>This site is <a href="https://opensource.guide/how-to-contribute/">open source</a> and made by your dearest <a href="https://github.com/geem-lab/cluster-guide/graphs/contributors">lab colleagues</a>, if you feel like there should be more information, tutorials and guides here feel free to <a href="https://github.com/geem-lab/cluster-guide">contribute</a>. ðŸ˜„</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
                <script type="text/javascript" src="mermaid.min.js"></script>
                <script type="text/javascript" src="mermaid-init.js"></script>
        
                        <script type="text/javascript">
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>
                
    </body>
</html>
